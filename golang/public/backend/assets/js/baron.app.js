!function(e){function t(t){for(var a,r,s=t[0],c=t[1],i=t[2],l=0,d=[];l<s.length;l++)r=s[l],o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(f&&f(t);d.length;)d.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},u=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{404:1,"404~account~auth~layouts":1,account:1,auth:1,layouts:1,sidebar:1}[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="backend/assets/css/"+({404:"404","404~account~auth~layouts":"404~account~auth~layouts",account:"account",auth:"auth",layouts:"layouts",projects:"projects",tasks:"tasks",sidebar:"sidebar"}[e]||e)+".css",o=s.p+a,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var i=u[c],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===a||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++)if((l=(i=f[c]).getAttribute("data-href"))===a||l===o)return t();var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=a,delete r[e],d.parentNode.removeChild(d),n(u)},d.href=o,document.getElementsByTagName("head")[0].appendChild(d)}).then(function(){r[e]=0}));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=o[e]=[t,a]});t.push(n[2]=a);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(e){return s.p+"backend/assets/js/baron."+({404:"404","404~account~auth~layouts":"404~account~auth~layouts",account:"account",auth:"auth",layouts:"layouts",projects:"projects",tasks:"tasks",sidebar:"sidebar"}[e]||e)+".js"}(e),u=function(t){c.onerror=c.onload=null,clearTimeout(i);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,u=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");u.type=a,u.request=r,n[1](u)}o[e]=void 0}};var i=setTimeout(function(){u({type:"timeout",target:c})},12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window.jsonpFunction=window.jsonpFunction||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=i;u.push([0,"vendors"]),n()}({0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";n("96cf");var a=n("3b8d"),r=n("bd86"),o=n("cebc"),u=n("768b"),s=(n("a481"),n("ac6a"),n("2b0e")),c=n("2f62"),i=n("bc3a"),l=n.n(i),f=n("0613");s.default.use(c.a);var d=n("c58b"),m=d.keys().map(function(e){return[e.replace(/(^.\/)|(\.ts$)/g,""),d(e)]}).reduce(function(e,t){var n=Object(u.a)(t,2),a=n[0],s=n[1];return void 0===s.namespaced&&(s.namespaced=!0),Object(o.a)({},e,Object(r.a)({},a,s))},{});t.a=new c.a.Store({state:{is_init:!1,is_serve_mode:!1},getters:{is_init:function(e){return e.is_init},is_serve_mode:function(e){return e.is_init}},mutations:{INIT:function(e){e.is_init=!0},IS_SERVE_MODE:function(e){e.is_serve_mode=!0}},actions:{INIT_STORE:function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!(n=window).user_data){e.next=6;break}t=n.user_data,e.next=20;break;case 6:return e.prev=6,e.next=9,l.a.get("/api/auth/refresh");case 9:a=e.sent,(r=a.data)&&(t=r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log("store/index",e.t0);case 17:return e.prev=17,f.a.commit("IS_SERVE_MODE"),e.finish(17);case 20:t&&f.a.dispatch("INIT_STORE_DATA",t),f.a.commit("INIT");case 22:case"end":return e.stop()}},e,null,[[6,14,17,20]])}));return function(){return e.apply(this,arguments)}}(),INIT_STORE_DATA:function(e,t){var n=e.commit;n("auth/INIT",t,{root:!0}),n("user/INIT",t,{root:!0})},RESET_STORE_DATA:function(e){var t=e.commit;t("auth/RESET",{root:!0}),t("user/RESET",{root:!0})}},modules:m})},"1f44":function(e,t,n){"use strict";n.r(t),n.d(t,"state",function(){return c}),n.d(t,"getters",function(){return i}),n.d(t,"mutations",function(){return l}),n.d(t,"actions",function(){return f});var a=n("bd86"),r=n("a78e"),o=n.n(r),u=n("2d40"),s=n("0613"),c={locale:o.a.get("locale")||"en",locales:{en:"en",ro:"ro"}},i={locale:function(e){return e.locale},locales:function(e){return e.locales}},l=Object(a.a)({},u.e,function(e,t){e.locale=t}),f={setLocale:function(e,t){s.a.commit(u.e,t),o.a.set("locale",t,{expires:365})}}},"2d40":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return c});var a="LOGIN",r="LOGOUT",o="AUTH_REFRESH",u="SET_LOCALE",s="SET_LAYOUT",c="UPDATE_THEME"},"5c0b":function(e,t,n){"use strict";var a=n("6879");n.n(a).a},"5cbb":function(e,t){},"62ef":function(e,t){},6879:function(e,t,n){},8715:function(e,t,n){"use strict";n.r(t),n.d(t,"state",function(){return o}),n.d(t,"getters",function(){return u}),n.d(t,"mutations",function(){return s});var a=n("bd86"),r=n("2d40"),o={default:"app-layout",status:null},u={default:function(e){return e.default},layout:function(e){return e.status||e.default}},s=Object(a.a)({},r.d,function(e,t){e.status=t})},"9dba":function(e,t,n){"use strict";n.r(t);var a=n("bd86"),r=(n("456d"),n("ac6a"),n("7f7f"),n("cebc")),o=n("2d40"),u=(n("e5fe"),n("5cbb"),n("62ef"),n("cb92"));n.d(t,"state",function(){return i}),n.d(t,"getters",function(){return l}),n.d(t,"mutations",function(){return f}),n.d(t,"actions",function(){return d});var s="store/modules/user.ts",c={id:-1,name:"",slug:"",email:"",avatar:"",type:-1,theme:localStorage.getItem("theme")||"dark",queueMessages:u.a.getInstance(2100)},i=Object(r.a)({},c),l={id:function(e){return e.id},name:function(e){return e.name},email:function(e){return e.email},avatar:function(e){return e.avatar},type:function(e){return e.type},theme:function(e){return e.theme},queue:function(e){return e.queueMessages},isDarkTheme:function(e){return"dark"===e.theme},isLightTheme:function(e){return"light"===e.theme}},f=Object(a.a)({INIT:function(e,t){try{e.id=t.id,e.name=t.name,e.slug=t.slug,e.email=t.email,e.type=t.type,e.avatar=t.settings&&t.settings.avatar||"",e.theme=t.settings&&t.settings.theme||"",localStorage.setItem("theme",e.theme)}catch(e){console.log({Location:s,Error:e})}},RESET:function(e){try{Object.keys(e).forEach(function(t){"theme"!==t&&(e[t]=c[t])})}catch(e){console.log({Location:s,Error:e})}}},o.f,function(e,t){try{e.theme=t,localStorage.setItem("theme",e.theme)}catch(e){console.log({Location:s,Error:e})}}),d={}},a268:function(e){e.exports={}},afbc:function(e,t,n){"use strict";n("96cf");var a=n("3b8d"),r=n("2b0e"),o=n("0a89"),u=n.n(o),s=n("8c4f"),c=n("31bd"),i=n("75fc"),l=n("bfaa"),f=n.n(l),d=n("0613");function m(e,t,n){return d.a.getters["auth/is_auth"]?n("dashboard"):n()}var h=[{path:"/login",name:"login",component:function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("auth")]).then(n.bind(null,"5326"))},meta:{layout:"auth-layout"},beforeEnter:f()([m])},{path:"/register",name:"register",component:function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("auth")]).then(n.bind(null,"935e"))},meta:{layout:"auth-layout"},beforeEnter:f()([m])}];function p(e,t,n){return console.log(e,t),console.log(d.a.getters["auth/is_auth"]),d.a.getters["auth/is_auth"]?n():n({name:"login"})}var b=[{path:"projects",name:"projects",component:function(){return n.e("projects").then(n.bind(null,"aaa9"))},meta:{layout:"app-layout"},beforeEnter:f()([p])}],g=[{path:"tasks",name:"tasks",component:function(){return n.e("tasks").then(n.bind(null,"d105"))},meta:{layout:"app-layout"},beforeEnter:f()([p])}],y=[{path:"account",name:"account",component:function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("account")]).then(n.bind(null,"616a"))},meta:{layout:"app-layout"},beforeEnter:f()([p]),children:[{path:"settings",name:"account-settings",component:function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("account")]).then(n.bind(null,"5d16"))},meta:{layout:"app-layout"},beforeEnter:f()([p])},{path:"platforms",name:"account-platforms",component:function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("account")]).then(n.bind(null,"6951"))},meta:{layout:"app-layout"},beforeEnter:f()([p])}]}];var v=[].concat(Object(i.a)(h),[{path:"/dashboard",name:"dashboard",component:function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("404")]).then(n.bind(null,"cd56")).then(function(e){return e.default})},meta:{layout:"app-layout"},beforeEnter:f()([p]),children:[].concat(Object(i.a)(b),Object(i.a)(g),Object(i.a)(y))},{path:"*",name:"NotFound",component:function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("404")]).then(n.bind(null,"efd7")).then(function(e){return e.default})},meta:{layout:"simple-layout"},beforeEnter:f()([function(e,t,n){return d.a.getters["auth/is_auth"]&&(e.meta.layout="app-layout"),n()}])}]);r.default.use(u.a),r.default.use(s.a);var _=new s.a({mode:"history",base:"/",routes:v});Object(c.sync)(d.a,_),_.beforeEach(function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(t,n,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.a.getters.is_init){e.next=3;break}return e.next=3,d.a.dispatch("INIT_STORE");case 3:return t.meta.layout&&t.meta.layout.length?t.meta.layout!==d.a.getters["layouts/layout"]&&d.a.commit("layouts/SET_LAYOUT",t.meta.layout):d.a.commit("layouts/SET_LAYOUT",d.a.getters["layouts/default"]),e.abrupt("return",a());case 5:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()),t.a=_},c58b:function(e,t,n){var a={"./auth.ts":"cdd0","./lang.ts":"1f44","./layouts.ts":"8715","./user.ts":"9dba"};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="c58b"},cb92:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("d225"),r=n("b0b4"),o=function(){function e(t){Object(a.a)(this,e),this.messages=[],this.isMessage=!1,this.timeout=t,this.queueTimeout=-1}return Object(r.a)(e,[{key:"sendMessage",value:function(e){this.messages.push(e),this.isMessage||this.showMessage()}},{key:"showMessage",value:function(){if(this.messages.length>0){this.message=this.messages[0],this.isMessage=!0,this.messages.splice(0,1);var e=this;this.queueTimeout=setTimeout(function(){e.showMessage()},this.timeout)}else this.isMessage&&(this.message=void 0,this.isMessage=!1)}},{key:"closeMessage",value:function(){clearTimeout(this.queueTimeout),this.showMessage()}}],[{key:"getInstance",value:function(t){return void 0===e.instance&&"number"==typeof t&&(e.instance=new e(t)),e.instance}}]),e}()},cd49:function(e,t,n){"use strict";n.r(t),n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("bb71"),o=(n("da64"),n("e312")),u=n("a268");a.default.use(r.a,{theme:{primary:"#2098D1",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"mdi",lang:{locales:{en:o,ro:u},current:"en"}});var s=n("bc3a"),c=n.n(s),i=n("a7fe"),l=n.n(i),f=n("afbc"),d=n("cb92");a.default.use(l.a,c.a),c.a.interceptors.response.use(function(e){e.status;var t=e.data;if(void 0!==t.message&&t.message){var n={text:t.message,"message-type":t["message-type"]};d.a.getInstance().sendMessage(n)}return e},function(e){var t=e.response,n=t.status,a=t.data;return 404===n&&f.a.push({name:"NotFound"}),void 0!==a.message&&a.message&&setTimeout(function(){d.a.getInstance().sendMessage({text:a.message,"message-type":a["message-type"]}),console.log({text:a.message,"message-type":a["message-type"]})},0),Promise.reject(e)});var m=n("d225"),h=n("b0b4"),p=n("308d"),b=n("6bb5"),g=n("4e2b"),y=n("9ab4"),v=n("4bb5"),_=n("60a3"),T=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"created",value:function(){}}]),t}(_.b);y.a([Object(v.b)("layouts/layout")],T.prototype,"layout",void 0),y.a([Object(v.b)("user/queue")],T.prototype,"queue",void 0),y.a([Object(v.b)("user/isDarkTheme")],T.prototype,"isDarkTheme",void 0),y.a([Object(v.b)("user/isLightTheme")],T.prototype,"isLightTheme",void 0);var O=T=y.a([Object(_.a)({name:"App",components:{"auth-layout":function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("layouts")]).then(n.bind(null,"25b3"))},"app-layout":function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("layouts")]).then(n.bind(null,"dead"))},"simple-layout":function(){return Promise.all([n.e("404~account~auth~layouts"),n.e("layouts")]).then(n.bind(null,"98a8"))}}})],T),E=(n("5c0b"),n("2877")),j=n("6544"),k=n.n(j),S=n("7496"),I=n("8336"),w=n("2db4"),x=Object(E.a)(O,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:e.isDarkTheme,light:e.isLightTheme}},[e.layout?n(e.layout,{tag:"Component"}):e._e(),e.queue.message?n("v-snackbar",{attrs:{top:!0,color:e.queue.message["message-type"],timeout:2e3},model:{value:e.queue.isMessage,callback:function(t){e.$set(e.queue,"isMessage",t)},expression:"queue.isMessage"}},[e._v("\n    "+e._s(e.queue.message.text)+"\n    "),n("v-btn",{attrs:{flat:""},on:{click:function(t){return e.queue.closeMessage()}}},[e._v("\n      Close\n    ")])],1):e._e()],1)},[],!1,null,null,null),A=x.exports;k()(x,{VApp:S.a,VBtn:I.a,VSnackbar:w.a});var M=n("0613");a.default.config.productionTip=!1,new a.default({router:f.a,store:M.a,render:function(e){return e(A)}}).$mount("#app")},cdd0:function(e,t,n){"use strict";n.r(t),n.d(t,"state",function(){return h}),n.d(t,"getters",function(){return p}),n.d(t,"mutations",function(){return b}),n.d(t,"actions",function(){return g});var a,r=n("bd86"),o=(n("96cf"),n("3b8d")),u=(n("456d"),n("ac6a"),n("cebc")),s=n("bc3a"),c=n.n(s),i=n("2d40"),l=n("afbc"),f=n("0613"),d="store/modules/auth.ts",m={is_auth:!1,is_mail_verified:!1},h=Object(u.a)({},m),p={is_auth:function(e){return e.is_auth},is_mail_verified:function(e){return e.is_mail_verified}},b={INIT:function(e,t){try{e.is_auth=!0,e.is_mail_verified=Boolean(t.joined_at&&t.joined_at<(new Date).getTime()/1e3)}catch(e){console.log({Location:d,Error:e})}},RESET:function(e){try{Object.keys(e).forEach(function(t){e[t]=m[t]}),l.a.push({name:"login"})}catch(e){console.log({Location:d,Error:e})}}},g=(a={},Object(r.a)(a,i.b,function(e,t){(0,e.dispatch)("INIT_STORE_DATA",t,{root:!0})}),Object(r.a)(a,i.c,Object(o.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.delete("/api/auth/logout");case 3:t=e.sent,200===t.status&&f.a.dispatch("RESET_STORE_DATA",{},{root:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({location:d,error:e.t0});case 11:case"end":return e.stop()}},e,null,[[0,8]])}))),Object(r.a)(a,i.a,function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,e.prev=1,e.next=4,c.a.get("/api/auth/refresh");case 4:n=e.sent,a=n.status,r=n.data,console.log(a,r),200===a&&r.data&&f.a.dispatch("INIT_STORE_DATA",r.data,{root:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log({location:d,error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()),a)},e312:function(e){e.exports={}},e5fe:function(e,t){}});